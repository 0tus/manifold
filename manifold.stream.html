<html lang="en">
  <head>
    <title>manifold.stream documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <link href="css/codox-md.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
      <div id="header">
        <h1 class="project-title">Manifold 0.1.0-SNAPSHOT API documentation</h1>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-list"><a class="ns-link ns-name" href="manifold.promise.html">manifold.promise</a></li><li class="ns-list"><a class="ns-link ns-name" href="manifold.stream.html">manifold.stream</a></li><li class="ns-list"><a class="ns-link ns-name" href="manifold.time.html">manifold.time</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var--%3EConsumer">-&gt;Consumer</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var--%3EConsumption">-&gt;Consumption</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var--%3EProducer">-&gt;Producer</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var--%3EProduction">-&gt;Production</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var--%3EStream">-&gt;Stream</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-backpressure%21">backpressure!</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-close%21">close!</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-closed%3F">closed?</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-drained%3F">drained?</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-on-closed">on-closed</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-on-drained">on-drained</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-periodically">periodically</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-put%21">put!</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-stream">stream</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-stream-%3Elazy-seq">stream-&gt;lazy-seq</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-stream%3F">stream?</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-streamable%3F">streamable?</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-take%21">take!</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-to-stream">to-stream</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-try-put%21">try-put!</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="manifold.stream.html#var-try-take%21">try-take!</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">manifold.stream documentation</h2>
        <div class="doc">
</div>
        <div class="ns-vars">
          <div class="public">
            <h3><a id="var--%3EConsumer" class="source var-name" href="/src/manifold/stream.clj">-&gt;Consumer</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[promise default-val]</div>
            
            
            <div class="doc"><p>Positional factory function for class manifold.stream.Consumer.</p>
</div>
          </div><div class="public">
            <h3><a id="var--%3EConsumption" class="source var-name" href="/src/manifold/stream.clj">-&gt;Consumption</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[message promise token]</div>
            
            
            <div class="doc"><p>Positional factory function for class manifold.stream.Consumption.</p>
</div>
          </div><div class="public">
            <h3><a id="var--%3EProducer" class="source var-name" href="/src/manifold/stream.clj">-&gt;Producer</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[message promise]</div>
            
            
            <div class="doc"><p>Positional factory function for class manifold.stream.Producer.</p>
</div>
          </div><div class="public">
            <h3><a id="var--%3EProduction" class="source var-name" href="/src/manifold/stream.clj">-&gt;Production</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[promise token]</div>
            
            
            <div class="doc"><p>Positional factory function for class manifold.stream.Production.</p>
</div>
          </div><div class="public">
            <h3><a id="var--%3EStream" class="source var-name" href="/src/manifold/stream.clj">-&gt;Stream</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[lock producers consumers messages closed-callbacks drained-callbacks closed?]</div>
            
            
            <div class="doc"><p>Positional factory function for class manifold.stream.Stream.</p>
</div>
          </div><div class="public">
            <h3><a id="var-backpressure%21" class="source var-name" href="/src/manifold/stream.clj">backpressure!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[source enabled?]</div>
            
            
            <div class="doc"><p>Sets whether backpressure is enabled on the event source.</p>
</div>
          </div><div class="public">
            <h3><a id="var-close%21" class="source var-name" href="/src/manifold/stream.clj">close!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sink]</div>
            
            
            <div class="doc"><p>Closes an event sink, so that it can't accept any more messages.</p>
</div>
          </div><div class="public">
            <h3><a id="var-closed%3F" class="source var-name" href="/src/manifold/stream.clj">closed?</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sink]</div>
            
            
            <div class="doc"><p>Returns true if the event sink is closed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-drained%3F" class="source var-name" href="/src/manifold/stream.clj">drained?</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[source]</div>
            
            
            <div class="doc"><p>Returns true if the event source is drained.</p>
</div>
          </div><div class="public">
            <h3><a id="var-on-closed" class="source var-name" href="/src/manifold/stream.clj">on-closed</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sink callback]</div>
            
            
            <div class="doc"><p>Registers a no-arg callback which is invoked when the sink is closed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-on-drained" class="source var-name" href="/src/manifold/stream.clj">on-drained</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[source callback]</div>
            
            
            <div class="doc"><p>Registers a no-arg callback which is invoked when the source is drained.</p>
</div>
          </div><div class="public">
            <h3><a id="var-periodically" class="source var-name" href="/src/manifold/stream.clj">periodically</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[period initial-delay f]</div><div class="usage">[period f]</div>
            
            
            <div class="doc"><p>Creates a stream which emits the result of invoking <code>(f)</code> every <code>period</code> milliseconds.</p>
</div>
          </div><div class="public">
            <h3><a id="var-put%21" class="source var-name" href="/src/manifold/stream.clj">put!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sink x]</div>
            
            
            <div class="doc"><p>Puts a value into a stream, returning a promise that yields <code>true</code> if it succeeds,
and <code>false</code> if it fails.  Guaranteed to be non-blocking.</p>
</div>
          </div><div class="public">
            <h3><a id="var-stream" class="source var-name" href="/src/manifold/stream.clj">stream</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[]</div><div class="usage">[buffer-size]</div>
            
            
            <div class="doc"><p>Returns a Manifold stream with a configurable <code>buffer-size</code>.  If a capacity is specified, <code>put!</code> will yield
<code>true</code> when the message is in the buffer.  Otherwise it will only yield <code>true</code> once it has been consumed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-stream-%3Elazy-seq" class="source var-name" href="/src/manifold/stream.clj">stream-&gt;lazy-seq</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[s]</div><div class="usage">[s timeout-interval]</div>
            
            
            <div class="doc"><p>Transforms a stream into a lazy sequence.  If a <code>timeout-interval</code> is defined, the sequence will terminate
if <code>timeout-interval</code> milliseconds elapses without a new event.</p>
</div>
          </div><div class="public">
            <h3><a id="var-stream%3F" class="source var-name" href="/src/manifold/stream.clj">stream?</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[x]</div>
            
            
            <div class="doc"><p>Returns true if the object is a Manifold stream.</p>
</div>
          </div><div class="public">
            <h3><a id="var-streamable%3F" class="source var-name" href="/src/manifold/stream.clj">streamable?</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[x]</div>
            
            
            <div class="doc"><p>Returns true if the object can be turned into a Manifold stream.</p>
</div>
          </div><div class="public">
            <h3><a id="var-take%21" class="source var-name" href="/src/manifold/stream.clj">take!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[source]</div><div class="usage">[source default-val]</div>
            
            
            <div class="doc"><p>Takes a value from a stream, returning a promise that yields the value when it
is available, or <code>nil</code> if the take fails.  Guaranteed to be non-blocking.</p>

<p>A special <code>default-val</code> may be specified, if it is important to differentiate
between actual <code>nil</code> values and failures.</p>
</div>
          </div><div class="public">
            <h3><a id="var-to-stream" class="source var-name" href="/">to-stream</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[_]</div>
            
            
            <div class="doc"><p>Provides a conversion mechanism to manifold streams.</p>
</div>
          </div><div class="public">
            <h3><a id="var-try-put%21" class="source var-name" href="/src/manifold/stream.clj">try-put!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sink x timeout]</div><div class="usage">[sink x timeout timeout-val]</div>
            
            
            <div class="doc"><p>Puts a value into a stream if the put can successfully be completed in <code>timeout</code>
milliseconds.  Returns a promiise that yields <code>true</code> if it succeeds, and <code>false</code>
if it fails or times out.  Guaranteed to be non-blocking.</p>

<p>A special <code>timeout-val</code> may be specified, if it is important to differentiate
between failure due to timeout and other failures.</p>
</div>
          </div><div class="public">
            <h3><a id="var-try-take%21" class="source var-name" href="/src/manifold/stream.clj">try-take!</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[source timeout]</div><div class="usage">[source default-val timeout timeout-val]</div>
            
            
            <div class="doc"><p>Takes a value from a stream, returning a promise that yields the value if it is
available within <code>timeout</code> milliseconds, or <code>nil</code> if it fails or times out.
Guaranteed to be non-blocking.</p>

<p>Special <code>timeout-val</code> and <code>default-val</code> values may be specified, if it is
important to differentiate between actual <code>nil</code> values and failures.</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>